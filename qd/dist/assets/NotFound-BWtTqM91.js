import{g as R,c as l,_ as B,B as b,C as A,H as L,a as k,b as f,d as e,r as h,e as v,f as x,w as c,h as y,F as w,i as N,t as _,j as C,o as H,u as U,k as d}from"./index-CmfLwdde.js";function q(){const s=R(),o=l(()=>s.state.notifications),u=l(()=>s.unreadNotifications.value),i=l(()=>u.value>0),m={success:(t,n={})=>s.addNotification({type:"success",title:"成功",message:t,duration:3e3,...n}),error:(t,n={})=>s.addNotification({type:"error",title:"错误",message:t,duration:5e3,...n}),warning:(t,n={})=>s.addNotification({type:"warning",title:"警告",message:t,duration:4e3,...n}),info:(t,n={})=>s.addNotification({type:"info",title:"提示",message:t,duration:3e3,...n}),custom:t=>s.addNotification(t)},g={markAllAsRead:()=>{o.value.forEach(t=>{t.read||s.markNotificationAsRead(t.id)})},clearRead:()=>{s.clearReadNotifications()},clearAll:()=>{s.clearAllNotifications()},clearByType:t=>{o.value.filter(a=>a.type===t).map(a=>a.id).forEach(a=>s.removeNotification(a))}},p={byType:t=>l(()=>o.value.filter(n=>n.type===t)),unread:l(()=>o.value.filter(t=>!t.read)),read:l(()=>o.value.filter(t=>t.read)),recent:(t=5)=>l(()=>o.value.slice().sort((n,a)=>a.timestamp-n.timestamp).slice(0,t))};return{notifications:o,unreadCount:u,hasUnread:i,add:s.addNotification,remove:s.removeNotification,markAsRead:s.markNotificationAsRead,notify:m,batch:g,filter:p}}const I={name:"NotFound",components:{Header:L,Card:A,Button:b},setup(){const s=U(),{notify:o}=q(),u=C([{path:"/",name:"首页",icon:"🏠"},{path:"/about",name:"关于我们",icon:"ℹ️"},{path:"/contact",name:"联系我们",icon:"📞"}]),i=C([]),m=()=>{s.push("/"),o.info("已返回首页")},g=()=>{window.history.length>1?s.go(-1):s.push("/"),o.info("已返回上一页")},p=()=>{const n=window.location.href;encodeURIComponent(`我在访问以下页面时遇到了404错误：

页面URL: ${n}
时间: ${new Date().toLocaleString()}

请帮助解决此问题。`),s.push({path:"/contact",query:{subject:"页面访问问题",message:`页面URL: ${n}`}}),o.info("已跳转到联系页面，您可以在那里报告问题")},t=()=>{try{const n=localStorage.getItem("recent-pages");if(n){const a=JSON.parse(n);i.value=a.slice(0,3)}}catch(n){console.warn("无法加载最近访问的页面:",n)}};return H(()=>{t(),console.warn("404页面访问:",window.location.href),window.gtag&&window.gtag("event","page_not_found",{page_location:window.location.href,page_title:document.title})}),{quickLinks:u,recentPages:i,goHome:m,goBack:g,reportIssue:p}}},S={class:"not-found-page"},F={class:"not-found-content"},P={class:"quick-links"},V={class:"link-grid"},z={class:"link-icon"},E={class:"link-text"},T={class:"action-buttons"},j={class:"recent-pages"},D={class:"page-icon"},G={class:"page-info"},J={class:"page-title"},M={class:"page-description"};function O(s,o,u,i,m,g){const p=h("Header"),t=h("router-link"),n=h("Button"),a=h("Card");return d(),k("div",S,[f(p,{title:"页面未找到",subtitle:"抱歉，您访问的页面不存在"}),e("div",F,[f(a,{title:"404 错误",shadow:!0,class:"not-found-card"},{default:c(()=>[o[1]||(o[1]=e("div",{class:"error-display"},[e("div",{class:"error-icon"},"🔍"),e("div",{class:"error-code"},"404"),e("div",{class:"error-message"},[e("h3",null,"页面未找到"),e("p",null,"您访问的页面可能已被删除、重命名或暂时不可用。")])],-1)),o[2]||(o[2]=e("div",{class:"suggestions"},[e("h4",null,"您可以尝试："),e("ul",{class:"suggestion-list"},[e("li",null,"检查URL地址是否正确"),e("li",null,"返回首页重新导航"),e("li",null,"使用搜索功能查找内容"),e("li",null,"联系我们获取帮助")])],-1)),e("div",P,[o[0]||(o[0]=e("h4",null,"快速链接：",-1)),e("div",V,[(d(!0),k(w,null,N(i.quickLinks,r=>(d(),v(t,{key:r.path,to:r.path,class:"quick-link"},{default:c(()=>[e("span",z,_(r.icon),1),e("span",E,_(r.name),1)]),_:2},1032,["to"]))),128))])])]),actions:c(()=>[e("div",T,[f(n,{type:"primary",size:"medium",onClick:i.goHome},{default:c(()=>o[3]||(o[3]=[y(" 返回首页 ",-1)])),_:1,__:[3]},8,["onClick"]),f(n,{type:"secondary",size:"medium",onClick:i.goBack},{default:c(()=>o[4]||(o[4]=[y(" 返回上页 ",-1)])),_:1,__:[4]},8,["onClick"]),f(n,{type:"secondary",size:"medium",onClick:i.reportIssue},{default:c(()=>o[5]||(o[5]=[y(" 报告问题 ",-1)])),_:1,__:[5]},8,["onClick"])])]),_:1}),i.recentPages.length>0?(d(),v(a,{key:0,title:"最近访问",shadow:!0},{default:c(()=>[e("div",j,[(d(!0),k(w,null,N(i.recentPages,r=>(d(),v(t,{key:r.path,to:r.path,class:"recent-page"},{default:c(()=>[e("span",D,_(r.icon),1),e("div",G,[e("h5",J,_(r.title),1),e("p",M,_(r.description),1)])]),_:2},1032,["to"]))),128))])]),_:1})):x("",!0)])])}const K=B(I,[["render",O],["__scopeId","data-v-682a5bac"]]);export{K as default};
//# sourceMappingURL=NotFound-BWtTqM91.js.map
